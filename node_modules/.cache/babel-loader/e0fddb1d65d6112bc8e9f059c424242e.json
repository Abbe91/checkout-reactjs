{"ast":null,"code":"function _slicedToArray(arr, i) {\n  return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _unsupportedIterableToArray(arr, i) || _nonIterableRest();\n}\n\nfunction _nonIterableRest() {\n  throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}\n\nfunction _unsupportedIterableToArray(o, minLen) {\n  if (!o) return;\n  if (typeof o === \"string\") return _arrayLikeToArray(o, minLen);\n  var n = Object.prototype.toString.call(o).slice(8, -1);\n  if (n === \"Object\" && o.constructor) n = o.constructor.name;\n  if (n === \"Map\" || n === \"Set\") return Array.from(o);\n  if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen);\n}\n\nfunction _arrayLikeToArray(arr, len) {\n  if (len == null || len > arr.length) len = arr.length;\n\n  for (var i = 0, arr2 = new Array(len); i < len; i++) {\n    arr2[i] = arr[i];\n  }\n\n  return arr2;\n}\n\nfunction _iterableToArrayLimit(arr, i) {\n  if (typeof Symbol === \"undefined\" || !(Symbol.iterator in Object(arr))) return;\n  var _arr = [];\n  var _n = true;\n  var _d = false;\n  var _e = undefined;\n\n  try {\n    for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) {\n      _arr.push(_s.value);\n\n      if (i && _arr.length === i) break;\n    }\n  } catch (err) {\n    _d = true;\n    _e = err;\n  } finally {\n    try {\n      if (!_n && _i[\"return\"] != null) _i[\"return\"]();\n    } finally {\n      if (_d) throw _e;\n    }\n  }\n\n  return _arr;\n}\n\nfunction _arrayWithHoles(arr) {\n  if (Array.isArray(arr)) return arr;\n}\n\nfunction _typeof(obj) {\n  \"@babel/helpers - typeof\";\n\n  if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") {\n    _typeof = function _typeof(obj) {\n      return typeof obj;\n    };\n  } else {\n    _typeof = function _typeof(obj) {\n      return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n    };\n  }\n\n  return _typeof(obj);\n}\n/**\r\n * Removed props:\r\n *  - childrenProps\r\n */\n\n\nimport React from 'react';\nimport { composeRef } from \"rc-util/es/ref\";\nimport { alignElement, alignPoint } from 'dom-align';\nimport addEventListener from \"rc-util/es/Dom/addEventListener\";\nimport { isSamePoint, restoreFocus, monitorResize } from './util';\nimport useBuffer from './hooks/useBuffer';\n\nfunction getElement(func) {\n  if (typeof func !== 'function') return null;\n  return func();\n}\n\nfunction getPoint(point) {\n  if (_typeof(point) !== 'object' || !point) return null;\n  return point;\n}\n\nvar Align = function Align(_ref, ref) {\n  var children = _ref.children,\n      disabled = _ref.disabled,\n      target = _ref.target,\n      align = _ref.align,\n      onAlign = _ref.onAlign,\n      monitorWindowResize = _ref.monitorWindowResize,\n      _ref$monitorBufferTim = _ref.monitorBufferTime,\n      monitorBufferTime = _ref$monitorBufferTim === void 0 ? 0 : _ref$monitorBufferTim;\n  var cacheRef = React.useRef({});\n  var nodeRef = React.useRef();\n  var childNode = React.Children.only(children); // ===================== Align ======================\n  // We save the props here to avoid closure makes props ood\n\n  var forceAlignPropsRef = React.useRef({});\n  forceAlignPropsRef.current.disabled = disabled;\n  forceAlignPropsRef.current.target = target;\n  forceAlignPropsRef.current.onAlign = onAlign;\n\n  var _useBuffer = useBuffer(function () {\n    var _forceAlignPropsRef$c = forceAlignPropsRef.current,\n        latestDisabled = _forceAlignPropsRef$c.disabled,\n        latestTarget = _forceAlignPropsRef$c.target;\n\n    if (!latestDisabled && latestTarget) {\n      var source = nodeRef.current;\n      var result;\n      var element = getElement(latestTarget);\n      var point = getPoint(latestTarget);\n      cacheRef.current.element = element;\n      cacheRef.current.point = point; // IE lose focus after element realign\n      // We should record activeElement and restore later\n\n      var _document = document,\n          activeElement = _document.activeElement;\n\n      if (element) {\n        result = alignElement(source, element, align);\n      } else if (point) {\n        result = alignPoint(source, point, align);\n      }\n\n      restoreFocus(activeElement, source);\n\n      if (onAlign) {\n        onAlign(source, result);\n      }\n\n      return true;\n    }\n\n    return false;\n  }, monitorBufferTime),\n      _useBuffer2 = _slicedToArray(_useBuffer, 2),\n      _forceAlign = _useBuffer2[0],\n      cancelForceAlign = _useBuffer2[1]; // ===================== Effect =====================\n  // Listen for target updated\n\n\n  var resizeMonitor = React.useRef({\n    cancel: function cancel() {}\n  }); // Listen for source updated\n\n  var sourceResizeMonitor = React.useRef({\n    cancel: function cancel() {}\n  });\n  React.useEffect(function () {\n    var element = getElement(target);\n    var point = getPoint(target);\n\n    if (nodeRef.current !== sourceResizeMonitor.current.element) {\n      sourceResizeMonitor.current.cancel();\n      sourceResizeMonitor.current.element = nodeRef.current;\n      sourceResizeMonitor.current.cancel = monitorResize(nodeRef.current, _forceAlign);\n    }\n\n    if (cacheRef.current.element !== element || !isSamePoint(cacheRef.current.point, point)) {\n      _forceAlign(); // Add resize observer\n\n\n      if (resizeMonitor.current.element !== element) {\n        resizeMonitor.current.cancel();\n        resizeMonitor.current.element = element;\n        resizeMonitor.current.cancel = monitorResize(element, _forceAlign);\n      }\n    }\n  }); // Listen for disabled change\n\n  React.useEffect(function () {\n    if (!disabled) {\n      _forceAlign();\n    } else {\n      cancelForceAlign();\n    }\n  }, [disabled]); // Listen for window resize\n\n  var winResizeRef = React.useRef(null);\n  React.useEffect(function () {\n    if (monitorWindowResize) {\n      if (!winResizeRef.current) {\n        winResizeRef.current = addEventListener(window, 'resize', _forceAlign);\n      }\n    } else if (winResizeRef.current) {\n      winResizeRef.current.remove();\n      winResizeRef.current = null;\n    }\n  }, [monitorWindowResize]); // Clear all if unmount\n\n  React.useEffect(function () {\n    return function () {\n      resizeMonitor.current.cancel();\n      sourceResizeMonitor.current.cancel();\n      if (winResizeRef.current) winResizeRef.current.remove();\n      cancelForceAlign();\n    };\n  }, []); // ====================== Ref =======================\n\n  React.useImperativeHandle(ref, function () {\n    return {\n      forceAlign: function forceAlign() {\n        return _forceAlign(true);\n      }\n    };\n  }); // ===================== Render =====================\n\n  if (React.isValidElement(childNode)) {\n    childNode = React.cloneElement(childNode, {\n      ref: composeRef(childNode.ref, nodeRef)\n    });\n  }\n\n  return childNode;\n};\n\nvar RefAlign = React.forwardRef(Align);\nRefAlign.displayName = 'Align';\nexport default RefAlign;","map":{"version":3,"sources":["C:/Users/wODe/Desktop/School WIE19/Reactkurs/Checkout/checkout-reactjs/node_modules/rc-align/es/Align.js"],"names":["_slicedToArray","arr","i","_arrayWithHoles","_iterableToArrayLimit","_unsupportedIterableToArray","_nonIterableRest","TypeError","o","minLen","_arrayLikeToArray","n","Object","prototype","toString","call","slice","constructor","name","Array","from","test","len","length","arr2","Symbol","iterator","_arr","_n","_d","_e","undefined","_i","_s","next","done","push","value","err","isArray","_typeof","obj","React","composeRef","alignElement","alignPoint","addEventListener","isSamePoint","restoreFocus","monitorResize","useBuffer","getElement","func","getPoint","point","Align","_ref","ref","children","disabled","target","align","onAlign","monitorWindowResize","_ref$monitorBufferTim","monitorBufferTime","cacheRef","useRef","nodeRef","childNode","Children","only","forceAlignPropsRef","current","_useBuffer","_forceAlignPropsRef$c","latestDisabled","latestTarget","source","result","element","_document","document","activeElement","_useBuffer2","_forceAlign","cancelForceAlign","resizeMonitor","cancel","sourceResizeMonitor","useEffect","winResizeRef","window","remove","useImperativeHandle","forceAlign","isValidElement","cloneElement","RefAlign","forwardRef","displayName"],"mappings":"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","sourcesContent":["function _slicedToArray(arr, i) { return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _unsupportedIterableToArray(arr, i) || _nonIterableRest(); }\r\n\r\nfunction _nonIterableRest() { throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); }\r\n\r\nfunction _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\r\n\r\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }\r\n\r\nfunction _iterableToArrayLimit(arr, i) { if (typeof Symbol === \"undefined\" || !(Symbol.iterator in Object(arr))) return; var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"] != null) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; }\r\n\r\nfunction _arrayWithHoles(arr) { if (Array.isArray(arr)) return arr; }\r\n\r\nfunction _typeof(obj) { \"@babel/helpers - typeof\"; if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\r\n\r\n/**\r\n * Removed props:\r\n *  - childrenProps\r\n */\r\nimport React from 'react';\r\nimport { composeRef } from \"rc-util/es/ref\";\r\nimport { alignElement, alignPoint } from 'dom-align';\r\nimport addEventListener from \"rc-util/es/Dom/addEventListener\";\r\nimport { isSamePoint, restoreFocus, monitorResize } from './util';\r\nimport useBuffer from './hooks/useBuffer';\r\n\r\nfunction getElement(func) {\r\n  if (typeof func !== 'function') return null;\r\n  return func();\r\n}\r\n\r\nfunction getPoint(point) {\r\n  if (_typeof(point) !== 'object' || !point) return null;\r\n  return point;\r\n}\r\n\r\nvar Align = function Align(_ref, ref) {\r\n  var children = _ref.children,\r\n      disabled = _ref.disabled,\r\n      target = _ref.target,\r\n      align = _ref.align,\r\n      onAlign = _ref.onAlign,\r\n      monitorWindowResize = _ref.monitorWindowResize,\r\n      _ref$monitorBufferTim = _ref.monitorBufferTime,\r\n      monitorBufferTime = _ref$monitorBufferTim === void 0 ? 0 : _ref$monitorBufferTim;\r\n  var cacheRef = React.useRef({});\r\n  var nodeRef = React.useRef();\r\n  var childNode = React.Children.only(children); // ===================== Align ======================\r\n  // We save the props here to avoid closure makes props ood\r\n\r\n  var forceAlignPropsRef = React.useRef({});\r\n  forceAlignPropsRef.current.disabled = disabled;\r\n  forceAlignPropsRef.current.target = target;\r\n  forceAlignPropsRef.current.onAlign = onAlign;\r\n\r\n  var _useBuffer = useBuffer(function () {\r\n    var _forceAlignPropsRef$c = forceAlignPropsRef.current,\r\n        latestDisabled = _forceAlignPropsRef$c.disabled,\r\n        latestTarget = _forceAlignPropsRef$c.target;\r\n\r\n    if (!latestDisabled && latestTarget) {\r\n      var source = nodeRef.current;\r\n      var result;\r\n      var element = getElement(latestTarget);\r\n      var point = getPoint(latestTarget);\r\n      cacheRef.current.element = element;\r\n      cacheRef.current.point = point; // IE lose focus after element realign\r\n      // We should record activeElement and restore later\r\n\r\n      var _document = document,\r\n          activeElement = _document.activeElement;\r\n\r\n      if (element) {\r\n        result = alignElement(source, element, align);\r\n      } else if (point) {\r\n        result = alignPoint(source, point, align);\r\n      }\r\n\r\n      restoreFocus(activeElement, source);\r\n\r\n      if (onAlign) {\r\n        onAlign(source, result);\r\n      }\r\n\r\n      return true;\r\n    }\r\n\r\n    return false;\r\n  }, monitorBufferTime),\r\n      _useBuffer2 = _slicedToArray(_useBuffer, 2),\r\n      _forceAlign = _useBuffer2[0],\r\n      cancelForceAlign = _useBuffer2[1]; // ===================== Effect =====================\r\n  // Listen for target updated\r\n\r\n\r\n  var resizeMonitor = React.useRef({\r\n    cancel: function cancel() {}\r\n  }); // Listen for source updated\r\n\r\n  var sourceResizeMonitor = React.useRef({\r\n    cancel: function cancel() {}\r\n  });\r\n  React.useEffect(function () {\r\n    var element = getElement(target);\r\n    var point = getPoint(target);\r\n\r\n    if (nodeRef.current !== sourceResizeMonitor.current.element) {\r\n      sourceResizeMonitor.current.cancel();\r\n      sourceResizeMonitor.current.element = nodeRef.current;\r\n      sourceResizeMonitor.current.cancel = monitorResize(nodeRef.current, _forceAlign);\r\n    }\r\n\r\n    if (cacheRef.current.element !== element || !isSamePoint(cacheRef.current.point, point)) {\r\n      _forceAlign(); // Add resize observer\r\n\r\n\r\n      if (resizeMonitor.current.element !== element) {\r\n        resizeMonitor.current.cancel();\r\n        resizeMonitor.current.element = element;\r\n        resizeMonitor.current.cancel = monitorResize(element, _forceAlign);\r\n      }\r\n    }\r\n  }); // Listen for disabled change\r\n\r\n  React.useEffect(function () {\r\n    if (!disabled) {\r\n      _forceAlign();\r\n    } else {\r\n      cancelForceAlign();\r\n    }\r\n  }, [disabled]); // Listen for window resize\r\n\r\n  var winResizeRef = React.useRef(null);\r\n  React.useEffect(function () {\r\n    if (monitorWindowResize) {\r\n      if (!winResizeRef.current) {\r\n        winResizeRef.current = addEventListener(window, 'resize', _forceAlign);\r\n      }\r\n    } else if (winResizeRef.current) {\r\n      winResizeRef.current.remove();\r\n      winResizeRef.current = null;\r\n    }\r\n  }, [monitorWindowResize]); // Clear all if unmount\r\n\r\n  React.useEffect(function () {\r\n    return function () {\r\n      resizeMonitor.current.cancel();\r\n      sourceResizeMonitor.current.cancel();\r\n      if (winResizeRef.current) winResizeRef.current.remove();\r\n      cancelForceAlign();\r\n    };\r\n  }, []); // ====================== Ref =======================\r\n\r\n  React.useImperativeHandle(ref, function () {\r\n    return {\r\n      forceAlign: function forceAlign() {\r\n        return _forceAlign(true);\r\n      }\r\n    };\r\n  }); // ===================== Render =====================\r\n\r\n  if (React.isValidElement(childNode)) {\r\n    childNode = React.cloneElement(childNode, {\r\n      ref: composeRef(childNode.ref, nodeRef)\r\n    });\r\n  }\r\n\r\n  return childNode;\r\n};\r\n\r\nvar RefAlign = React.forwardRef(Align);\r\nRefAlign.displayName = 'Align';\r\nexport default RefAlign;"]},"metadata":{},"sourceType":"module"}